class Solution {
    public List<String> generateParenthesis(int n) {
        List<String> result = new ArrayList<String>();
        generate(new char[n * 2], result, 0);
        return result;
    }

    public void generate(char[] temp, List<String> result, int digit){
        if (digit == temp.length){
            if (valid(temp)){
                result.add(new String(temp));
            }
        }else{
                temp[digit] = '(';
                generate(temp, result, digit + 1);
                temp[digit] = ')';
                generate(temp, result, digit + 1); 
        } 
    }

    public boolean valid(char[] temp){
        int balance = 0;
        for (int i =0; i < temp.length; i++){
            if(temp[i] == '('){
                balance++;
            }else{
                balance--;
            }
            if (balance < 0){
                return false;
            }
        }
        return balance == 0;
    }

}

/*
Note:
(Using recursion to list all the combinations and then removing invalid ones.)
1.	 “Convert Char Array to String”: 
      char[] ch = {'g', 'o', 'o', 'd'};
      String str = new String(ch);
2.	“Using Recursion to generate all the combinations”: We can just using “digit + 1”(instead of “digit ++” or “++digit”) while reiterating function itself.

Example 1:
Input: n = 3
Output: ["((()))","(()())","(())()","()(())","()()()"]

                temp[digit] = '(';
                generate(temp, result, digit + 1);
                temp[digit] = ')';
                generate(temp, result, digit + 1); 

*/
